(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bc1db41"],{"0d3b":function(e,t,r){var n=r("d039"),a=r("b622"),o=r("c430"),s=a("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t["delete"]("b"),r+=n+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},3802:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.defenseRequests}},[r("el-table-column",{attrs:{prop:"defenseId",label:"答辩ID",width:"100"}}),r("el-table-column",{attrs:{prop:"defenseStartTime",label:"开始时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatDate(t.row.defenseStartTime))+" ")]}}])}),r("el-table-column",{attrs:{prop:"defenseEndTime",label:"结束时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatDate(t.row.defenseEndTime))+" ")]}}])}),r("el-table-column",{attrs:{prop:"defenseScore",label:"成绩",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(-1===t.row.defenseScore?"没有成绩":t.row.defenseScore)+" ")]}}])}),r("el-table-column",{attrs:{prop:"defenseStatus",label:"状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getStatusText(t.row.defenseStatus))+" ")]}}])}),r("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{on:{click:function(r){return e.showArrangeTimeDialog(t.row)}}},[e._v("安排时间")]),r("el-button",{on:{click:function(r){return e.showScoreDialog(t.row)}}},[e._v("评分")]),r("el-button",{on:{click:function(r){return e.showReviewDialog(t.row)}}},[e._v("审核")])]}}])})],1),r("el-dialog",{attrs:{title:"安排答辩时间",visible:e.arrangeTimeDialogVisible},on:{"update:visible":function(t){e.arrangeTimeDialogVisible=t},close:e.resetArrangeTimeDialog}},[r("el-form",{attrs:{model:e.arrangeTimeForm,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"开始时间"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择开始时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-ddTHH:mm:ssZ"},model:{value:e.arrangeTimeForm.startTime,callback:function(t){e.$set(e.arrangeTimeForm,"startTime",t)},expression:"arrangeTimeForm.startTime"}})],1),r("el-form-item",{attrs:{label:"结束时间"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择结束时间",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-ddTHH:mm:ssZ"},model:{value:e.arrangeTimeForm.endTime,callback:function(t){e.$set(e.arrangeTimeForm,"endTime",t)},expression:"arrangeTimeForm.endTime"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.arrangeTimeDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.arrangeTime}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"输入成绩",visible:e.scoreDialogVisible},on:{"update:visible":function(t){e.scoreDialogVisible=t},close:e.resetScoreDialog}},[r("el-form",{attrs:{model:e.scoreForm,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"成绩"}},[r("el-input",{attrs:{type:"number",placeholder:"输入成绩"},model:{value:e.scoreForm.score,callback:function(t){e.$set(e.scoreForm,"score",t)},expression:"scoreForm.score"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.scoreDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submitScore}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"审核",visible:e.reviewDialogVisible},on:{"update:visible":function(t){e.reviewDialogVisible=t},close:e.resetReviewDialog}},[r("el-form",{attrs:{model:e.reviewForm,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"审核结果"}},[r("el-radio-group",{model:{value:e.reviewForm.result,callback:function(t){e.$set(e.reviewForm,"result",t)},expression:"reviewForm.result"}},[r("el-radio",{attrs:{label:"通过"}},[e._v("通过")]),r("el-radio",{attrs:{label:"未通过"}},[e._v("未通过")])],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.reviewDialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submitReview}},[e._v("确 定")])],1)],1)],1)},a=[],o=r("c7eb"),s=r("1da1"),i=r("5530"),c=(r("99af"),r("d3b7"),r("3ca3"),r("ddb0"),r("9861"),r("2f62")),l={data:function(){return{defenseRequests:[],arrangeTimeDialogVisible:!1,scoreDialogVisible:!1,reviewDialogVisible:!1,selectedRow:null,arrangeTimeForm:{startTime:"",endTime:""},scoreForm:{score:""},reviewForm:{result:""}}},computed:Object(i["a"])({},Object(c["c"])(["userId"])),created:function(){this.fetchDefenseRequests()},methods:{fetchDefenseRequests:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var r,n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:9001/teacher/getStudentsDefenseRequest?userId=".concat(e.userId),{method:"POST",headers:{"User-Agent":"Apifox/1.0.0 (https://apifox.com)"}});case 3:return r=t.sent,t.next=6,r.json();case 6:n=t.sent,200===n.code&&(e.defenseRequests=n.message),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.error("Error fetching defense requests:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},showArrangeTimeDialog:function(e){this.selectedRow=e,this.arrangeTimeForm.startTime=e.defenseStartTime?new Date(e.defenseStartTime).toISOString():"",this.arrangeTimeForm.endTime=e.defenseEndTime?new Date(e.defenseEndTime).toISOString():"",this.arrangeTimeDialogVisible=!0},arrangeTime:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var r,n,a,s,i,c;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.selectedRow){t.next=2;break}return t.abrupt("return");case 2:return r=e.arrangeTimeForm,n=r.startTime,a=r.endTime,t.prev=3,t.next=6,fetch("http://localhost:9001/teacher/arrangeDefense?studentId=".concat(e.selectedRow.studentId,"&startTimeStr=").concat(n,"&endTimeStr=").concat(a),{method:"POST",headers:{"User-Agent":"Apifox/1.0.0 (https://apifox.com)"}});case 6:return s=t.sent,t.next=9,s.json();case 9:i=t.sent,200===i.code?(c=i.message,Object.assign(e.selectedRow,c)):console.error("Error arranging time:",i.message),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](3),console.error("Error arranging time:",t.t0);case 16:return t.prev=16,e.arrangeTimeDialogVisible=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[3,13,16,19]])})))()},showScoreDialog:function(e){this.selectedRow=e,this.scoreForm.score=-1===e.defenseScore?"":e.defenseScore,this.scoreDialogVisible=!0},submitScore:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var r,n,a,s;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.selectedRow){t.next=2;break}return t.abrupt("return");case 2:return r=e.scoreForm.score,t.prev=3,t.next=6,fetch("http://localhost:9001/teacher/scoreDefense?studentId=".concat(e.selectedRow.studentId,"&score=").concat(r),{method:"POST",headers:{"User-Agent":"Apifox/1.0.0 (https://apifox.com)"}});case 6:return n=t.sent,t.next=9,n.json();case 9:a=t.sent,200===a.code?(s=a.message,Object.assign(e.selectedRow,s)):console.error("Error submitting score:",a.message),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](3),console.error("Error submitting score:",t.t0);case 16:return t.prev=16,e.scoreDialogVisible=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[3,13,16,19]])})))()},showReviewDialog:function(e){this.selectedRow=e,this.reviewForm.result=2===e.defenseStatus?"通过":"未通过",this.reviewDialogVisible=!0},submitReview:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var r,n,a,s,i,c;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.selectedRow){t.next=2;break}return t.abrupt("return");case 2:return r=e.reviewForm.result,n="通过"===r,a={method:"POST",headers:{"User-Agent":"Apifox/1.0.0 (https://apifox.com)","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({studentId:e.selectedRow.studentId,isPass:n})},t.prev=5,t.next=8,fetch("http://localhost:9001/teacher/judgeDefense",a);case 8:return s=t.sent,t.next=11,s.json();case 11:i=t.sent,200===i.code?(c=i.message,Object.assign(e.selectedRow,c)):console.error("Error submitting review:",i.message),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](5),console.error("Error submitting review:",t.t0);case 18:return t.prev=18,e.reviewDialogVisible=!1,t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[5,15,18,21]])})))()},resetArrangeTimeDialog:function(){this.arrangeTimeForm={startTime:"",endTime:""}},resetScoreDialog:function(){this.scoreForm={score:""}},resetReviewDialog:function(){this.reviewForm={result:""}},formatDate:function(e){return e?new Date(e).toLocaleString():""},getStatusText:function(e){switch(e){case 1:return"待审核";case 2:return"通过";case 3:return"未通过";default:return"未知状态"}}}},u=l,f=(r("8216"),r("2877")),d=Object(f["a"])(u,n,a,!1,null,"5933fc74",null);t["default"]=d.exports},8216:function(e,t,r){"use strict";r("aec6")},9861:function(e,t,r){"use strict";r("e260");var n=r("23e7"),a=r("d066"),o=r("0d3b"),s=r("6eeb"),i=r("e2cc"),c=r("d44e"),l=r("9ed3"),u=r("69f3"),f=r("19aa"),d=r("5135"),h=r("0366"),m=r("f5df"),p=r("825a"),g=r("861d"),b=r("7c73"),v=r("5c6c"),w=r("9a1f"),y=r("35a1"),T=r("b622"),k=a("fetch"),S=a("Headers"),x=T("iterator"),R="URLSearchParams",D=R+"Iterator",F=u.set,_=u.getterFor(R),j=u.getterFor(D),O=/\+/g,U=Array(4),E=function(e){return U[e-1]||(U[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},I=function(e){try{return decodeURIComponent(e)}catch(t){return e}},L=function(e){var t=e.replace(O," "),r=4;try{return decodeURIComponent(t)}catch(n){while(r)t=t.replace(E(r--),I);return t}},V=/[!'()~]|%20/g,A={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},P=function(e){return A[e]},H=function(e){return encodeURIComponent(e).replace(V,P)},q=function(e,t){if(t){var r,n,a=t.split("&"),o=0;while(o<a.length)r=a[o++],r.length&&(n=r.split("="),e.push({key:L(n.shift()),value:L(n.join("="))}))}},M=function(e){this.entries.length=0,q(this.entries,e)},C=function(e,t){if(e<t)throw TypeError("Not enough arguments")},$=l((function(e,t){F(this,{type:D,iterator:w(_(e).entries),kind:t})}),"Iterator",(function(){var e=j(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),J=function(){f(this,J,R);var e,t,r,n,a,o,s,i,c,l=arguments.length>0?arguments[0]:void 0,u=this,h=[];if(F(u,{type:R,entries:h,updateURL:function(){},updateSearchParams:M}),void 0!==l)if(g(l))if(e=y(l),"function"===typeof e){t=e.call(l),r=t.next;while(!(n=r.call(t)).done){if(a=w(p(n.value)),o=a.next,(s=o.call(a)).done||(i=o.call(a)).done||!o.call(a).done)throw TypeError("Expected sequence with length 2");h.push({key:s.value+"",value:i.value+""})}}else for(c in l)d(l,c)&&h.push({key:c,value:l[c]+""});else q(h,"string"===typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},N=J.prototype;i(N,{append:function(e,t){C(arguments.length,2);var r=_(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){C(arguments.length,1);var t=_(this),r=t.entries,n=e+"",a=0;while(a<r.length)r[a].key===n?r.splice(a,1):a++;t.updateURL()},get:function(e){C(arguments.length,1);for(var t=_(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){C(arguments.length,1);for(var t=_(this).entries,r=e+"",n=[],a=0;a<t.length;a++)t[a].key===r&&n.push(t[a].value);return n},has:function(e){C(arguments.length,1);var t=_(this).entries,r=e+"",n=0;while(n<t.length)if(t[n++].key===r)return!0;return!1},set:function(e,t){C(arguments.length,1);for(var r,n=_(this),a=n.entries,o=!1,s=e+"",i=t+"",c=0;c<a.length;c++)r=a[c],r.key===s&&(o?a.splice(c--,1):(o=!0,r.value=i));o||a.push({key:s,value:i}),n.updateURL()},sort:function(){var e,t,r,n=_(this),a=n.entries,o=a.slice();for(a.length=0,r=0;r<o.length;r++){for(e=o[r],t=0;t<r;t++)if(a[t].key>e.key){a.splice(t,0,e);break}t===r&&a.push(e)}n.updateURL()},forEach:function(e){var t,r=_(this).entries,n=h(e,arguments.length>1?arguments[1]:void 0,3),a=0;while(a<r.length)t=r[a++],n(t.value,t.key,this)},keys:function(){return new $(this,"keys")},values:function(){return new $(this,"values")},entries:function(){return new $(this,"entries")}},{enumerable:!0}),s(N,x,N.entries),s(N,"toString",(function(){var e,t=_(this).entries,r=[],n=0;while(n<t.length)e=t[n++],r.push(H(e.key)+"="+H(e.value));return r.join("&")}),{enumerable:!0}),c(J,R),n({global:!0,forced:!o},{URLSearchParams:J}),o||"function"!=typeof k||"function"!=typeof S||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,a=[e];return arguments.length>1&&(t=arguments[1],g(t)&&(r=t.body,m(r)===R&&(n=t.headers?new S(t.headers):new S,n.has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=b(t,{body:v(0,String(r)),headers:v(0,n)}))),a.push(t)),k.apply(this,a)}}),e.exports={URLSearchParams:J,getState:_}},"9a1f":function(e,t,r){var n=r("825a"),a=r("35a1");e.exports=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},aec6:function(e,t,r){}}]);